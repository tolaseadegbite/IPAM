<% content_for :title, "Ip Addresses" %>

<% content_for :page_header do %>
  <h4 class="font-semibold">Ip Address Management</h4>
<% end %>

<% content_for :header_action_buttons do %>
    <%= link_to "New Ip Address", new_ip_address_path,
                  class: "btn bg-orange-400 text-white font-semibold rounded-md p-2 show@md",
                  data: { turbo_frame: "modal" } %>
<% end %>

<div class="absolute hide@md" style="bottom: 10rem; right: 1rem; z-index: 9999">
  <%= link_to new_ip_address_path, class: "btn bg-orange-400 text-white font-semibold rounded-full p-5", data: { turbo_frame: "modal" } do %>
    <span class="icon icon--pen"></span>
  <% end %>
</div>

<div class="p-4 i-full">

  <%# --- Filter Toolbar --- %>
  <%= form_with url: ip_addresses_path, method: :get, class: "mbe-6 flex flex-wrap gap-4 items-end", data: { turbo_frame: "ip_addresses", turbo_action: "advance" } do |f| %>
    <div>
      <%= f.label :subnet_id, "Subnet", class: "block text-xs font-bold uppercase text-subtle mbe-2" %>
      <%= f.collection_select :subnet_id, Subnet.all, :id, :name, { include_blank: "All Subnets", selected: params[:subnet_id] }, { class: "input border rounded p-2 cursor-pointer", onchange: "this.form.requestSubmit()" } %>
    </div>
    <div>
      <%= f.label :status, "Status", class: "block text-xs font-bold uppercase text-subtle mbe-2" %>
      <%= f.select :status, IpAddress.statuses.keys.map { |k| [k.humanize, k] }, { include_blank: "All Statuses", selected: params[:status] }, { class: "input border rounded p-2 cursor-pointer", onchange: "this.form.requestSubmit()" } %>
    </div>
  <% end %>

  <%= turbo_frame_tag "ip_addresses" do %>
    <div class="grid grid-cols-1 grid-cols-2@sm grid-cols-3@md grid-cols-4@lg gap-4">
      <%= render @ip_addresses %>
    </div>
  <% end %>
</div>